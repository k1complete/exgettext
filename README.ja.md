=====================================================
 exgettext --  gettext for elixir
=====================================================

exgettextはgettext()互換のpoファイルを用いたelixir用
地域化(l10n)パッケージです。

下記の記述はまだ実現されていません。構想段階です。。。


ワークフロー
=====================================================

以下では、パッケージとしてappを日本語(ja)にローカライズする
例としています。

プログラマ
-----------------------------------------------------

* mix.exsにdeps: exgettextを追加します。

* use Exgettext; import Exgettext; を呼び出します。

* 処理の最初でExgettext.start() を呼び出します。

* 地域化が必要なリテラル文字列を~T() sigil でマークアップ
  します。

* mix xgettextタスクにより、app.potファイルを生成します。app.potファイ
  ルには、以下が格納されます。

  @moduledoc, @doc,~T()

  現在の実装ではは、mix xgettextにより内部的にmix cleanが実行されコ
  ンパイルしなおしになります。

* リリースします。

* 翻訳は翻訳チームが行いますので、プログラマはこれだけ。



翻訳チーム
-----------------------------------------------------

* パッケージを入手し、po/ja.poファイル(日本語jaを例にしています)
  を確認します。

* まだ翻訳したい言語のpoファイルが無い場合、poファイルを作成する
  ために、 mix l10n.msginit を実行します。po/ja.po が作成されます。

* 既にpo/ja.poがある場合で、パッケージのバージョンアップなどでメッセー
  ジを翻訳仕直す場合はmix l10n.msgmerge ja.po app.potを実行します。内部
  では、msgmerge -o ja.pox ja.po app.potが実行され、マージ結果として
  ja.poxが作成されます。マージ内容に問題がなければja.poxをpo/ja.poに移
  動します。

* po/ja.po中のmsgidをmsgstrに翻訳していきます。emacsのpoモードが
  便利です。

* 翻訳が終ったら、mix msgfmtを実行して lang/ja/app.moを生成します。
  

実行時
-----------------------------------------------------

* appを起動すると、exgettext(app)サーバが起動し、環境変数LANGに
  対応したapp用の言語ディレクトリをオープンします。

* Exgettext.setlocale/1 でロケールを明示的に設定することが出来ます。

* ~T()は、exgettextへの呼出に置き換えられ、lang/ja/app.moを
  参照して対応する言語のメッセージが使用されます。

* Exgettext.h で翻訳されたmoduledocを表示させることができます。
